(this.webpackJsonpbitsights=this.webpackJsonpbitsights||[]).push([[0],{126:function(e,t,a){e.exports=a(156)},156:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),l=a.n(c),i=a(28);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(37),u=a(82),d=function(){return u.a},s=function(){var e;return null!==(e=JSON.parse(localStorage.getItem("".concat(d(),".drstart"))))&&void 0!==e?e:null},m=function(){var e;return null!==(e=JSON.parse(localStorage.getItem("".concat(d(),".drend"))))&&void 0!==e?e:null},f=Object(o.c)({name:"dates",initialState:{daterange_start:null,daterange_end:null},reducers:{SET_DATERANGE_START:function(e,t){e.daterange_start=t.payload},RESET_DATERANGE_START:function(e,t){e.daterange_start=null},SET_DATERANGE_END:function(e,t){e.daterange_end=t.payload},RESET_DATERANGE_END:function(e,t){e.daterange_end=null}}}),v=f.actions,E=(v.SET_DATERANGE_START,v.RESET_DATERANGE_START,v.SET_DATERANGE_END,v.RESET_DATERANGE_END,function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e?localStorage.setItem("".concat(d(),".drstart"),JSON.stringify(e)):localStorage.setItem("".concat(d(),".drstart"),JSON.stringify(null))}(e),{type:"dates/SET_DATERANGE_START",payload:e}}),g=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e?localStorage.setItem("".concat(d(),".drend"),JSON.stringify(e)):localStorage.setItem("".concat(d(),".drend"),JSON.stringify(null))}(e),{type:"dates/SET_DATERANGE_END",payload:e}},b=f.reducer,h=a(4),p=a(33),_=a.n(p),y=a(47),A=a(83),R=a.n(A),T=a(17),S=a.n(T),O=a(97),D=a.n(O);S.a.extend(D.a);var k,w,x,N=S()("2013-05-01"),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=a?S()(e).utc().hour(0).minute(0).second(0).millisecond(0):t?S()(e).utc().hour(1).minute(0).second(0).millisecond(0):S()(e).utc().subtract(1,"day").hour(23).minute(0).second(0).millisecond(0);return n.unix()},I=function(e,t){return S()(t).utc().hour(0).minute(0).second(0).millisecond(0).diff(S()(e).utc().hour(0).minute(0).second(0).millisecond(0),"day")},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];k=S()(new Date);var n=S()(e).add(t,"day");return n.diff(k,"day")<=0&&S()(e).diff(N,"day")>=0?a?n.format("YYYY-MM-DD"):n:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return S()(e).hour(0).minute(0).second(0).millisecond(0).format("YYYY-MM-DD")},C="https://api.coingecko.com/api/v3/coins/bitcoin",B=function(){var e=Object(y.a)(_.a.mark((function e(){var t,a,n,r,c,l,i,o,u,d,s,m,f,v,E,g;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("".concat(C).concat("?localization=false&tickers=false"));case 2:return t=e.sent,a=null===t||void 0===t?void 0:t.data,n=a.categories,r=a.genesis_date,c=a.hashing_algorithm,l=a.id,i=a.market_data,o=a.name,u=a.symbol,d=i.ath,s=i.ath_date,m=i.atl,f=i.atl_date,v=i.current_price,E=i.last_updated,g={categories:n,genesis_date:r,hashing:c,id:l,name:o,symbol:u,market_data:{allTimeHigh:d.eur,ath_date:s.eur,allTimeLow:m.eur,atl_date:f.eur,current_price:v.eur,updated:E}},e.abrupt("return",null!==g&&void 0!==g?g:null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(y.a)(_.a.mark((function e(){var t,a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j(s()),n=j(m()),e.next=4,R.a.get("".concat(C).concat("/market_chart/range?").concat("vs_currency=eur","&from=").concat(a,"&to=").concat(n));case 4:return r=e.sent,e.abrupt("return",null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:null);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=Object(o.b)("values/fetchMarketData",function(){var e=Object(y.a)(_.a.mark((function e(t){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:return a=e.sent,n=a.prices,e.abrupt("return",null!==n&&void 0!==n?n:null);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),K=Object(o.c)({name:"values",initialState:{marketvalues:null,fallback:-0},reducers:{SET_MARKETVALUES:function(e,t){e.marketvalues=t.payload},RESET_MARKETVALUES:function(e,t){e.marketvalues=null}},extraReducers:(w={},Object(h.a)(w,L.pending,(function(e){e.loading=!0})),Object(h.a)(w,L.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.marketvalues=a})),Object(h.a)(w,L.rejected,(function(e){e.loading=!1})),w)}),F=K.actions,J=(F.SET_MARKETVALUES,F.RESET_MARKETVALUES,K.reducer),U=Object(o.b)("basics/fetchBasicData",function(){var e=Object(y.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return a=e.sent,e.abrupt("return",null!==a&&void 0!==a?a:null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(o.c)({name:"basics",initialState:{basicInfo:null},reducers:{SET_BASICINFO:function(e,t){e.basicInfo=t.payload},RESET_BASICINFO:function(e,t){e.basicInfo=null}},extraReducers:(x={},Object(h.a)(x,U.pending,(function(e){e.loading=!0})),Object(h.a)(x,U.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.basicInfo=a})),Object(h.a)(x,U.rejected,(function(e){e.loading=!1})),x)}),P=z.actions,V=(P.SET_MARKETVALUES,P.RESET_MARKETVALUES,z.reducer),W=Object(o.a)({reducer:{basics:V,dates:b,values:J}}),H=a(223),$=a(221),q=a(224),Q=Object.freeze({PRIMARY:[255,204,29],SECONDARY:[11,70,25],TERTIARY:[17,101,48],BACKGROUND:[218,218,218],ERR:[205,24,24],INFO:[15,44,103],WARN:[255,103,1],SPECIAL:[174,0,90]}),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";switch(e){case"background":return"rgb(".concat(Q.BACKGROUND,")");case"background-alt":return"rgb(".concat(Q.PRIMARY,")");case"header":return"rgb(".concat(Q.SECONDARY,")");case"text":return"rgb(".concat(Q.TERTIARY,")");case"err":return"rgb(".concat(Q.ERR,")");case"warn":return"rgb(".concat(Q.WARN,")");case"info":return"rgb(".concat(Q.INFO,")");case"special":return"rgb(".concat(Q.SPECIAL,")");default:return"rgb(".concat(Q.PRIMARY,")")}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;switch(e){case"background":return"rgb(".concat(Q.BACKGROUND,",").concat(t,")");case"background-alt":return"rgb(".concat(Q.PRIMARY,",").concat(t,")");case"header":return"rgb(".concat(Q.SECONDARY,",").concat(t,")");case"text":return"rgb(".concat(Q.TERTIARY,",").concat(t,")");case"err":return"rgb(".concat(Q.ERR,",").concat(t,")");case"warn":return"rgb(".concat(Q.WARN,",").concat(t,")");case"info":return"rgb(".concat(Q.INFO,",").concat(t,")");case"special":return"rgb(".concat(Q.SPECIAL,",").concat(t,")");default:return"rgb(".concat(Q.PRIMARY,",").concat(t,")")}},ee=function(e){var t=e.id;return r.a.createElement("header",{id:t,"data-testid":t,style:{display:"inline-flex",textAlign:"center",justifyContent:"center"}},r.a.createElement(q.a,{variant:"overline",sx:{fontSize:"1rem",color:X("special")}},"BitSights application header"))},te=a(217),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return"".concat(e,".").concat(t)},ne=a(219),re=a(208),ce=a(207),le=a(218),ie=function(e){var t=e.dispatcher,a=e.value;return r.a.createElement(ce.b,{dateAdapter:re.a},r.a.createElement(le.a,{sx:{padding:"1rem"},color:null!==a?"success":"info",label:"Date range start",value:a,onChange:function(e){return function(e){t(E(e)),t(L())}(e)},inputFormat:"YYYY-MM-DD",mask:"____-__-__",renderInput:function(e){return r.a.createElement(ne.a,Object.assign({},e,{size:"small",color:null!==a?"success":"info",sx:{"&:hover:selected":{outlineColor:"success"}}}))}}))},oe=function(e){var t=e.dispatcher,a=e.value;return r.a.createElement(ce.b,{dateAdapter:re.a},r.a.createElement(le.a,{sx:{padding:"1rem"},color:null!==a?"success":"info",label:"Date range end",value:a,onChange:function(e){return function(e){t(g(e)),t(L())}(e)},inputFormat:"YYYY-MM-DD",mask:"____-__-__",renderInput:function(e){return r.a.createElement(ne.a,Object.assign({},e,{size:"small",color:null!==a?"success":"info"}))}}))},ue=function(e){e.id;var t=Object(i.c)((function(e){return e.dates})),a=Object(i.b)();return r.a.createElement("section",{style:{display:"flex",flexDirection:"row",justifyItems:"space-evenly"}},r.a.createElement(ie,{dispatcher:a,value:null===t||void 0===t?void 0:t.daterange_start}),r.a.createElement(oe,{dispatcher:a,value:null===t||void 0===t?void 0:t.daterange_end}))},de=a(229),se=a(227),me=a(228),fe=a(226),ve=a(225),Ee=a(24),ge=a(106);Ee.d.register(Ee.c,Ee.i,Ee.k,Ee.h,Ee.o,Ee.p,Ee.f);var be={responsive:!0,plugins:{legend:{display:!1,position:"bottom"},title:{display:!1,text:"\u20bfTC market value in \u20ac"}}},he=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{variant:"subtitle1",sx:{color:Z("warn",.8)}},"\u20bfTC market value in \u20ac"),r.a.createElement(ge.a,{options:be,datasetIdKey:"BTCmarketvalue",data:t}))},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.sort((function(e,t){return e.datetime-t.datetime}));return t?a:ye(a)},_e=function(e,t){return e.reduce((function(e,a){return Math.abs(t-a.datetime)<Math.abs(t-e.datetime)?a:e}))},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=s(),a=m(),n=I(t,a),r=[],c=[];if(r.push(j(t,!1,!0)),n>1)for(var l=1;l<n;l++)r.push(j(Y(t,l),!1,!0));return r.push(j(a,!1,!0)),r.forEach((function(t){c.push(_e(e,t))})),c},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],a={id:1,label:"\u20bfTC, \u20ac",data:[],borderColor:Z("warn",.8),backgroundColor:Z("warn",.6)};e.forEach((function(e){var n=e.datetime,r=e.value;t.push(M(1e3*n)),a.data.push(r)}));var n={labels:t,datasets:[a]};return n},Re=function(e){var t=Object(i.c)((function(e){return e.dates})),a=t.daterange_start,c=t.daterange_end,l=Object(i.b)(),o=Object(i.c)((function(e){return e.values})),u=o.marketvalues,d=o.fallback,s=Object(i.c)((function(e){return e.basics})).basicInfo;Object(n.useEffect)((function(){return l(U())}),[l]),setTimeout((function(){return l(U())}),6e4),Object(n.useEffect)((function(){return l(L())}),[l]);var m=function(){return a&&c?r.a.createElement(ve.a,null,r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"subtitle1"},"Date range")),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"body1"},M(a))),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"body1"},M(c))),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"body1"},I(a,c)+1," days"))):null},f=function(){var e=u&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.map((function(e){return{datetime:Math.floor(e[0]/1e3),value:e[1]}}));return t?a:pe(a)}(u);return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,null,r.a.createElement(fe.a,{colSpan:2},r.a.createElement(he,{data:Ae(e)})))):null},v=function(){return r.a.createElement(te.a,{direction:"column",sx:{marginBottom:"1rem"}},r.a.createElement(se.a,{size:"small"},r.a.createElement(me.a,null,r.a.createElement(m,null),r.a.createElement(f,null))))},E=function(e){var t,a,n,c,l=e.low,i=void 0!==l&&l;return s?r.a.createElement(ve.a,null,r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"subtitle1"},"All-Time ",i?"Low":"High")),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"body1"},M(i?null===s||void 0===s||null===(t=s.market_data)||void 0===t?void 0:t.atl_date:null===s||void 0===s||null===(a=s.market_data)||void 0===a?void 0:a.ath_date))),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"body1"},i?null===s||void 0===s||null===(n=s.market_data)||void 0===n?void 0:n.allTimeLow:null===s||void 0===s||null===(c=s.market_data)||void 0===c?void 0:c.allTimeHigh," \u20ac"))):null},g=function(){var e,t;return s?r.a.createElement(te.a,{direction:"column"},r.a.createElement(se.a,{size:"small"},r.a.createElement(me.a,null,r.a.createElement(ve.a,null,r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"body1"},"Value")),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"body1",sx:{color:X("warn")}},null!==(e=null===s||void 0===s||null===(t=s.market_data)||void 0===t?void 0:t.current_price)&&void 0!==e?e:d," \u20ac")),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"subtitle1"},"Name")),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"body1"},null===s||void 0===s?void 0:s.name))),r.a.createElement(ve.a,null,r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"subtitle1"},"Symbol")),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"body1"},null===s||void 0===s?void 0:s.symbol,"btc"===(null===s||void 0===s?void 0:s.symbol)&&", \u20bf")),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"subtitle1"},"Hashing")),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"body1"},null===s||void 0===s?void 0:s.hashing))),r.a.createElement(ve.a,null,r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"subtitle1"},"Genesis date")),r.a.createElement(fe.a,null,r.a.createElement(q.a,{variant:"body1"},M(null===s||void 0===s?void 0:s.genesis_date)))),r.a.createElement(E,null),r.a.createElement(E,{low:!0})))):null};return r.a.createElement(de.a,{sx:{backgroundColor:X("background"),padding:"1rem",marginTop:"1rem",marginBottom:"1rem"}},r.a.createElement(q.a,{variant:"h5",sx:{color:Z("warn",.8)}},"\u20bfitcoin market value"),r.a.createElement(v,null),r.a.createElement(q.a,{variant:"h5",sx:{color:Z("warn",.8)}},"\u20bfitcoin information"),r.a.createElement(g,null))},Te=function(e){var t=e.id;return r.a.createElement(te.a,{id:t,"data-testid":t,direction:"column",spacing:2,sx:{marginTop:"1rem",marginBottom:"1rem"}},r.a.createElement(ue,{id:ae(t,"daterange")}),r.a.createElement(Re,{id:ae(t,"insight")}))},Se=function(e){var t=e.id;return r.a.createElement("footer",{id:t,"data-testid":t,style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(q.a,{variant:"overline",sx:{fontSize:"0.7rem",color:Z("text",.5)}},"BitSights application footer"))},Oe=a(104),De=Object(Oe.a)({palette:{primary:{main:"".concat(X())},secondary:{main:"".concat(X("header"))},info:{main:"".concat(X("info"))},error:{main:"".concat(X("err"))},warning:{main:"".concat(X("warn"))},success:{main:"".concat(Z("text",.8))},special:{main:"".concat(X("special"))},background:{main:"".concat(X("background"))}}}),ke=function(e){var t=e.id,a=Object(i.c)((function(e){return e.dates})).daterange_end,c=Object(i.b)();return Object(n.useEffect)((function(){var e=m();c(g(e||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return k=S()(new Date),S()(e).diff(N,"day")>=0&&S()(e).diff(k,"day")<=0?t?S()(e).hour(0).minute(0).second(0).millisecond(0).format("YYYY-MM-DD"):S()(e).hour(0).minute(0).second(0).millisecond(0):null}()));var t=s();c(E(t||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];k=S()(new Date);var a=S()(e).hour(0).minute(0).second(0).millisecond(0).subtract(7,"day");return a.diff(N,"day")>=0&&S()(e).diff(k,"day")<=0?t?a.format("YYYY-MM-DD"):a:null}(a)))})),r.a.createElement(H.a,{id:t,"data-testid":t},r.a.createElement($.a,{theme:De},r.a.createElement(H.a,{id:t,"data-testid":t,sx:{margin:"1rem",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(ee,{id:ae(t,"header")}),r.a.createElement(Te,{id:ae(t,"content")}),r.a.createElement(Se,{id:ae(t,"footer")}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:W},r.a.createElement(ke,{id:d()}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},82:function(e){e.exports=JSON.parse('{"a":"rff.app.bitsights","b":"BitSights"}')}},[[126,1,2]]]);
//# sourceMappingURL=main.0e8d44ee.chunk.js.map